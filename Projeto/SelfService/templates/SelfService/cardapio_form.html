{% extends "Base.html" %}
{% load form_extras %}
{% block title %}{{ view.object|default_if_none:'Novo item' }} • Cardápio{% endblock %}
{% block header_title %}{{ view.object|default_if_none:'Novo item' }}{% endblock %}

{% block content %}
<div class="container-xxl">

  <div class="card card-glass">
    <div class="card-body">
      <form method="post" class="row g-3">
        {% csrf_token %}

        {# Nome #}
        <div class="col-12 col-md-6">
          <label for="{{ form.nome.id_for_label }}" class="form-label">Nome</label>
          {{ form.nome|add_class:"form-control" }}
          {% if form.nome.errors %}
            <div class="invalid-feedback d-block">{{ form.nome.errors|join:", " }}</div>
          {% endif %}
        </div>

        {# Preço #}
        <div class="col-12 col-md-3">
          <label for="{{ form.preco.id_for_label }}" class="form-label">Preço</label>
          <div class="input-group">
            <span class="input-group-text">R$</span>
            {{ form.preco|add_class:"form-control text-end" }}
          </div>
          {% if form.preco.errors %}
            <div class="invalid-feedback d-block">{{ form.preco.errors|join:", " }}</div>
          {% endif %}
        </div>

        {# Descrição #}
        <div class="col-12">
          <label for="{{ form.descricao.id_for_label }}" class="form-label">Descrição</label>
          {{ form.descricao|add_class:"form-control"|safe }}
          {% if form.descricao.errors %}
            <div class="invalid-feedback d-block">{{ form.descricao.errors|join:", " }}</div>
          {% endif %}
        </div>

        {# Ações #}
        <div class="col-12 d-flex justify-content-end gap-2">
          <a href="{% url 'cardapio_list' %}" class="btn btn-outline-light">Cancelar</a>
          <button class="btn btn-light" type="submit">Salvar</button>
        </div>

        {% if form.non_field_errors %}
          <div class="col-12">
            <div class="alert alert-danger mt-2 mb-0">{{ form.non_field_errors|join:", " }}</div>
          </div>
        {% endif %}
      </form>
    </div>
  </div>

</div>
{% endblock %}
