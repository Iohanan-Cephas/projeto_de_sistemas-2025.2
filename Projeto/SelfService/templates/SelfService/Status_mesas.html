{% extends "Base.html" %}

{% block title %}Painel • Atendente{% endblock %}
{% block header_title %}Painel do Atendente{% endblock %}
{% block profile_icon %}AT{% endblock %}

{% block content %}
  <div class="flex justify-end pr-4 pt-3">
    <a href="{% url 'pedidos_por_mesa' %}" class="text-sm underline">Ver pedidos por mesa</a>
  </div>

  <!-- Filtros -->
  <section class="px-4 md:px-8 py-4 border-b">
    <div class="flex flex-wrap gap-2 items-center">
      <button class="btn px-3 py-1.5 rounded-full bg-neutral-900 text-white text-sm">Todas</button>

      <button class="btn px-3 py-1.5 rounded-full bg-green-100 text-green-700 text-sm">Disponíveis</button>

      <button class="btn px-3 py-1.5 rounded-full bg-red-100 text-red-700 text-sm">Ocupadas</button>
      
      <button class="btn px-3 py-1.5 rounded-full bg-yellow-100 text-yellow-700 text-sm">Reservadas</button>
      
    </div>
  </section>

  <!-- Grade de Mesas -->
  <div class="grid grid-cols-2 md:grid-cols-4 xl:grid-cols-6 gap-4 mt-6">
    {% for mesa in mesas %}
      <div class="card border rounded-xl p-4 text-center 
        {% if mesa.status == 'disponivel' %} bg-green-50 border-green-200 
        {% elif mesa.status == 'ocupada' %} bg-red-50 border-red-200 
        {% elif mesa.status == 'reservada' %} bg-yellow-50 border-yellow-200 
        {% endif %}">
        
        <h3 class="font-semibold text-lg">Mesa {{ mesa.numero }}</h3>
        
        <p class="text-sm mt-1 
          {% if mesa.status == 'disponivel' %} text-green-700 
          {% elif mesa.status == 'ocupada' %} text-red-700 
          {% elif mesa.status == 'reservada' %} text-yellow-700 
          {% endif %}">
          {{ mesa.status|title }}
        </p>

        <div class="mt-3 flex justify-center">
          {% if mesa.status == 'disponivel' %}
            <button class="btn px-3 py-2 rounded-lg bg-green-600 text-white text-xs">Reservar</button>
          {% elif mesa.status == 'ocupada' %}
            <button class="btn px-3 py-2 rounded-lg bg-red-600 text-white text-xs">Detalhes</button>
          {% elif mesa.status == 'reservada' %}
            <button class="btn px-3 py-2 rounded-lg bg-yellow-600 text-white text-xs">Liberar</button>
          {% endif %}
        </div>
      </div>
    {% endfor %}
  </div>
{% endblock %}
